Summary: Perl library to extract image dimensions from various formats
Name: perl-${DISTNAME}
Version: ${VERSION}
Release: ${RELEASE}
Epoch: 1
Vendor: Randy J. Ray
Copyright: Artistic
Group: Applications/CPAN
Source: ${DISTNAME}-${VERSION}.tar.gz
Url: http://www.blackperl.com/${NAME}
BuildRequires: perl >= 0:5.00503
Requires: perl >= 0:5.00503
Provides: perl-${DISTNAME} = ${VERSION}
BuildRoot: %{_tmppath}/%{name}-root
BuildArch: noarch

%description
The Image::Size Perl module is a package of pure Perl (no C or XS linkage)
code that can extract the dimensions of an image in a variety of common and
popular formats.

%prep
%setup -q -n ${DISTNAME}-%{version} 

%build
CFLAGS="$RPM_OPT_FLAGS" perl Makefile.PL

%clean 
rm -rf $RPM_BUILD_ROOT

%install
rm -rf $RPM_BUILD_ROOT
install_dir=/usr/lib/perl5/site_perl/5.005/i386-linux
mkdir -p $RPM_BUILD_ROOT/$installdir
make PREFIX=$RPM_BUILD_ROOT/usr install

[ -x /usr/lib/rpm/brp-compress ] && /usr/lib/rpm/brp-compress

find $RPM_BUILD_ROOT/usr -type f -print |
        sed "s@^$RPM_BUILD_ROOT@@g" |
        grep -v perllocal.pod |
        grep -v "\.packlist" > ${DISTNAME}-${VERSION}-filelist
if [ "$(cat ${DISTNAME}-${VERSION}-filelist)X" = "X" ] ; then
    echo "ERROR: EMPTY FILE LIST"
    exit -1
fi

%files -f ${DISTNAME}-${VERSION}-filelist
%defattr(-,root,root)

%changelog
* Fri Aug  10 2001 rjray <rjray@blackperl.com>
- Spec file template created
